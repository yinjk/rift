<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Material Design for Bootstrap fonts and icons -->
    <link rel="stylesheet" href="css/icons.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link href="css/toastr.min.css" rel="stylesheet"/>
    <link href="css/my.css" rel="stylesheet"/>

    <!-- Material Design for Bootstrap CSS -->
    <!-- <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">   -->
    <link rel="stylesheet" href="css/bootstrap-material-design.min.css" crossorigin="anonymous">
    <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">-->
    <!-- ⚠️生产环境请指定版本号，如 https://cdn.jsdelivr.net/npm/vditor@x.x.x/dist... -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor/dist/index.css"/>

    <title>Rift</title>
</head>
<body>
<!-- nav bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto list-group" role="tablist">
            <li class="nav-item">
                <a class="nav-link" id="list-home-list" data-toggle="list" href="#list-rift" role="tab"> Rift <span
                            class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="list-profile-list" data-toggle="list" href="#list-upload" role="tab"> File
                    Upload</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="list-setting-list" data-toggle="list" href="#list-setting" role="tab">
                    Setting</a>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
    </div>
</nav>
<br>
<!-- container -->
<div class="container">

    <div>
        <button type="button" class="btn btn-outline-dark" onclick="window.vditor.setTheme('dark', 'dark',  'native')">
            Dark
        </button>
        <button type="button" class="btn btn-outline-danger"
                onclick="window.vditor.setTheme('light', 'light', 'github')">Light
        </button>
    </div>
    <div id="vditor">
        <h1>Vditor</h1>
        <ul>
            <li>foo</li>
            <li>bar</li>
        </ul>
    </div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/toastr.js"></script>
<script src="js/popper.js" crossorigin="anonymous"></script>
<script src="js/bootstrap-material-design.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/vditor/dist/index.min.js" defer></script>
<script>
    let toolbar = [
        'emoji',
        'check',
        'line',
        'insert-before',
        'insert-after',
        'table',
        '|',
        'undo',
        'redo',
        'edit-mode',
        'fullscreen',
        {
            name: 'more',
            toolbar: [
                'outline',
                'preview',
                'code-theme',
                'export',
            ],
        }

    ];

    $(document).ready(function () {
        window.vditor = new Vditor('vditor', {
            toolbar,
            mode: 'ir',
            height: window.innerHeight + 100,
            outline: true,
            debugger: true,
            typewriterMode: true,
            placeholder: '写你所想!',
            preview: {
                markdown: {
                    toc: true,
                    mark: true,
                },
            },
            after: function () {
                vditor.setValue('## Hello \n hhhhh')
            },
            //失去焦点触发
            blur: function (value) {
                console.log(value);
            },
            toolbarConfig: {
                pin: true,
            },
            counter: {
                enable: true,
                type: 'text',
            },
            hint: {
                emojiPath: 'http://emojihomepage.com/',
                emojiTail: '<a href="http://emojihomepage.com/" target="_blank">设置常用表情</a>',
            },
            tab: '\t',
        });
        $("#vditor").append(window.vditor);

        //监听 ctrl + s 快捷键
        document.onkeydown = function (e) {
            if ('s' === e.key && (navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)) {
                e.preventDefault();
                let value = window.vditor.getValue(0);
                console.log(value)
            }
        }

    });


</script>

</body>
</html>